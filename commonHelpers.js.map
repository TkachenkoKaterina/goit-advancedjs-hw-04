{"version":3,"file":"commonHelpers.js","sources":["../src/api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '32131085-77c33ae4af62fbdfe36accafe';\n\nasync function servicePixabay(searchQuery, page) {\n  // const params = new URLSearchParams({\n  //   key: API_KEY,\n  //   q: searchQuery,\n  //   image_type: 'photo',\n  //   orientation: 'horizontal',\n  //   safesearch: true,\n  //   page,\n  //   per_page: 40,\n  // });\n\n  return await axios.get(\n    `${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=3`\n  );\n  //   console.log(data);\n  //   console.log(data.hits);\n}\n\nexport { servicePixabay };\n","import Notiflix from 'notiflix';\nimport '../node_modules/notiflix/dist/notiflix-3.2.6.min.css';\nimport axios from 'axios';\nimport { servicePixabay } from '/api';\n\nconst elements = {\n  form: document.querySelector('#search-form'),\n  btnSearch: document.querySelector('button[type = submit]'),\n  gallery: document.querySelector('.gallery'),\n  btnLoadMore: document.querySelector('.load-more'),\n};\n\nelements.form.addEventListener('submit', onSubmit);\n// elements.btnLoadMore.addEventListener('click', onLoadMore);\n\nlet page = 1;\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  elements.gallery.innerHTML = '';\n  page = 1;\n  const formData = new FormData(event.currentTarget);\n  const searchQuery = formData.get('searchQuery');\n  console.log(searchQuery);\n\n  try {\n    const { data } = await servicePixabay(searchQuery, page);\n    console.log('data', data);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// elements.btnLoadMore.style.display = 'none';\n// let page = 1;\n\n// async function onLoadMore() {\n//   const searchQuery = elements.form.elements.searchQuery.value;\n//   page += 1;\n//   console.log(searchQuery);\n\n//   try {\n//     const response = await servicePixabay({ searchQuery });\n//     console.log(response);\n\n//     if (response.data.totalHits === 0) {\n//       notifyUser(\n//         'Sorry, there are no images matching your search query. Please try again.'\n//       );\n//       return;\n//     }\n\n//     elements.gallery.insertAdjacentHTML(\n//       'beforeend',\n//       renderGallery(response.data.hits)\n//     );\n//   } catch (error) {\n//     console.error('Error loading more data:', error);\n//   }\n// }\n\n// function renderGallery(arr) {\n//   return arr\n//     .map(\n//       ({\n//         webformatURL,\n//         largeImageURL,\n//         tags,\n//         likes,\n//         views,\n//         comments,\n//         downloads,\n//       }) => `<div class=\"photo-card\">\n//         <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"150\"/>\n//         <div class=\"info\">\n//             <p class=\"info-item\">\n//             <b>Likes: ${likes}</b>\n//             </p>\n//             <p class=\"info-item\">\n//             <b>Views: ${views}</b>\n//             </p>\n//             <p class=\"info-item\">\n//             <b>Comments: ${comments}</b>\n//             </p>\n//             <p class=\"info-item\">\n//             <b>Downloads: ${downloads}</b>\n//             </p>\n//         </div>\n//     </div>\n//     `\n//     )\n//     .join('');\n// }\n"],"names":["BASE_URL","API_KEY","servicePixabay","searchQuery","page","axios","elements","onSubmit","event","data","error"],"mappings":"svBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAEhB,eAAeC,EAAeC,EAAaC,EAAM,CAW/C,OAAO,MAAMC,EAAM,IACjB,GAAGL,SAAgBC,OAAaE,kEAA4EC,cAChH,CAGA,CChBA,MAAME,EAAW,CACf,KAAM,SAAS,cAAc,cAAc,EAC3C,UAAW,SAAS,cAAc,uBAAuB,EACzD,QAAS,SAAS,cAAc,UAAU,EAC1C,YAAa,SAAS,cAAc,YAAY,CAClD,EAEAA,EAAS,KAAK,iBAAiB,SAAUC,CAAQ,EAGjD,IAAIH,EAAO,EAEX,eAAeG,EAASC,EAAO,CAC7BA,EAAM,eAAc,EACpBF,EAAS,QAAQ,UAAY,GAC7BF,EAAO,EAEP,MAAMD,EADW,IAAI,SAASK,EAAM,aAAa,EACpB,IAAI,aAAa,EAC9C,QAAQ,IAAIL,CAAW,EAEvB,GAAI,CACF,KAAM,CAAE,KAAAM,CAAI,EAAK,MAAMP,EAAeC,EAAaC,CAAI,EACvD,QAAQ,IAAI,OAAQK,CAAI,CACzB,OAAQC,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH"}